<!DOCTYPE html>
<html>
<head>
	<meta charste="UTF-8">
	<title>JavaScriptTest</title>
	<style type='text/css'>
		canvas { border: 1px solid black;}
	</style>
</head>
<body>
		<h1>Walk Test</h1>
		<canvas id='canvas' width='800' height='600'></canvas>
		<script type='text/javascript'>
			var ctx;
			var crewMem = {x: 150, y: 150, w: 12, h: 6, d: "down", verCheck: 0, horCheck: 1};
			var direction = ["right","left", "up", "down"];
			
			main();
			function main()
			{
				ctx = document.getElementById('canvas').getContext("2d");
				setInterval(function(){update(); draw(ctx); }, 1000/60)
			}
			
			function update()
			{
				
				if (Math.floor(Math.random()*30) == 1){
					crewMem.d = direction[Math.floor(Math.random()*4)];
					if(crewMem.d=="up" || crewMem.d=="down"){
						crewMem.verCheck = 0;
						crewMem.horCheck = 1;
					}
					else{
						crewMem.verCheck = 1;
						crewMem.horCheck = 0;
					}
				}	
				
				if(crewMem.d=="up")
					crewMem.y --;
				if(crewMem.d=="down")
					crewMem.y ++;
				if(crewMem.d=="left")
					crewMem.x --;
				if(crewMem.d=="right")
					crewMem.x ++;
					
			}
			
			function draw()
			{
				ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);
				// tan: EFE4B0, light blue: 99D9B6, hair brown: B97A57
				
				
				//New code. Draws the guy using mathmatical calculations
				ctx.fillStyle = "#99D9B6";
				ctx.fillRect(crewMem.x, crewMem.y, (crewMem.verCheck*crewMem.h) + (crewMem.horCheck*crewMem.w), (crewMem.verCheck*crewMem.w) + (crewMem.horCheck*crewMem.h));
				ctx.fillStyle = "#B97A57";
				if(crewMem.d=="up"||crewMem.d=="left")
					ctx.fillStyle = "#EFE4B0";
				ctx.fillRect(crewMem.x + (crewMem.horCheck*3), crewMem.y + (crewMem.verCheck*3), 6, 6);
				ctx.fillStyle = "#B97A57";
				if(crewMem.d=="down"||crewMem.d=="right")
					ctx.fillStyle = "#EFE4B0";
				ctx.fillRect(crewMem.x+3, crewMem.y+3, (crewMem.verCheck*3) + (crewMem.horCheck*6), (crewMem.verCheck*6) + (crewMem.horCheck*3));
				
				
				//Old code. Might be more efficient, but it's longer and messier
				/*if(crewMem.d =="up"||crewMem.d =="down"){
					crewMem.h = 3;
					crewMem.w = 9;
					ctx.fillStyle = "#99D9B6";
					ctx.fillRect(crewMem.x, crewMem.y, 3, 6);
					ctx.fillRect(crewMem.x+9, crewMem.y, 3, 6);
					if(crewMem.d =="up"){
						ctx.fillStyle = "#EFE4B0";
						ctx.fillRect(crewMem.x+3, crewMem.y, 6, 3);
						ctx.fillStyle = "#B97A57";
						ctx.fillRect(crewMem.x+3, crewMem.y+3, 6, 3);
					}
					else{
						ctx.fillStyle = "#B97A57";
						ctx.fillRect(crewMem.x+3, crewMem.y, 6, 3);
						ctx.fillStyle = "#EFE4B0";
						ctx.fillRect(crewMem.x+3, crewMem.y+3, 6, 3);
					}
				}
				if(crewMem.d =="left"||crewMem.d =="right"){
					crewMem.h = 9;
					crewMem.w = 3;
					ctx.fillStyle = "#99D9B6";
					ctx.fillRect(crewMem.x, crewMem.y, 6, 3);
					ctx.fillRect(crewMem.x, crewMem.y+9, 6, 3);
					if(crewMem.d =="left"){
						ctx.fillStyle = "#EFE4B0";
						ctx.fillRect(crewMem.x, crewMem.y+3, 3, 6);
						ctx.fillStyle = "#B97A57";
						ctx.fillRect(crewMem.x+3, crewMem.y+3, 3, 6);
					}
					else{
						ctx.fillStyle = "#B97A57";
						ctx.fillRect(crewMem.x, crewMem.y+3, 3, 6);
						ctx.fillStyle = "#EFE4B0";
						ctx.fillRect(crewMem.x+3, crewMem.y+3, 3, 6);
					}
				}*/
				
			}
			
			
		</script>
</body>
</html>	
